---
import { links } from '@/data/links'
import { cn } from '@/lib/utils/css'
import type { HTMLAttributes } from 'astro/types'

type Props = HTMLAttributes<'footer'>

const { class: className, ...props }: Props = Astro.props

const year = new Date().getFullYear()
---

<footer
  class={cn(
    'sticky top-[100vh] mx-auto flex flex-col items-center gap-3 border-t border-layout-primary pt-6 pb-10 sm:flex-row sm:justify-between sm:gap-8 sm:border-none sm:pt-8 sm:pb-6',
    className
  )}
  {...props}
>
  <p class="group flex items-center gap-1.5 text-sm text-tertiary sm:text-xs">
    <span>&copy; {year} Built with</span>
    <svg
      class="size-3 shrink-0 fill-red-600 text-red-600 transition-transform duration-300 group-hover:scale-120"
      viewBox="0 0 24 24"
      aria-hidden="true"
    >
      <path
        d="M12 21s-7.2-4.6-9.5-8.3A5.8 5.8 0 0 1 12 5a5.8 5.8 0 0 1 9.5 7.7C19.2 16.4 12 21 12 21Z"
      ></path>
    </svg>
    <span>by Andrei</span>
  </p>

  <p class="text-sm text-tertiary sm:text-xs">
    This website is
    <a
      class="group ml-1 inline-flex items-center gap-1 font-medium text-primary"
      href={links.source}
      target="_blank"
      rel="noopener noreferrer"
    >
      <span
        class="relative inline-block after:absolute after:inset-x-0 after:-bottom-px after:h-px after:bg-accent after:transition-all after:duration-300 group-hover:after:h-0.5"
      >
        open source
      </span>
      <svg
        class="size-3.5 shrink-0 fill-none stroke-current"
        viewBox="0 0 24 24"
        aria-hidden="true"
      >
        <path d="M16 6h4v4" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"
        ></path>
        <path d="M10 14 20 4" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"
        ></path>
        <path
          d="M20 14v4a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h4"
          stroke-width="1.8"
          stroke-linecap="round"
          stroke-linejoin="round"></path>
      </svg>
    </a>
  </p>
</footer>
